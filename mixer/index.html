<html>
<head>
  <title>Beatinator</title>
  <script type="text/javascript" src="libs/jquery.js"></script>
  <script type="text/javascript" src="libs/underscore.js"></script>
  <script type="text/javascript" src="libs/backbone.js"></script>
  <script type="text/javascript" src="libs/xboxcontrollers.js"></script>
  <script type="text/javascript" src="models/buffered_node.js"></script>
  <script type="text/javascript" src="models/cue_node.js"></script>
  <script type="text/javascript" src="models/mixer.js"></script>
  <script type="text/javascript" src="views/base_view.js"></script>
  <script type="text/javascript" src="views/mixer_view.js"></script>
</head>
<body>

  

  <div id="mixer"></div>

  <script type="template/underscore" id="mixer-template">
    <div id="mixer-container">
    <button id="play">Play</button>
    <button id="stop">Stop</button>
    <div class="left-side">
      <div class="effects"></div>
      <div class="gain">
        <input type="range" min="0" max="1" value="0.5" step="0.01" />
      </div>
    </div>
    <div class="right-side">
      <button class="cue-button start">CUE</button>
    </div>
  </div>
  </script>

  <script type="text/javascript">
    $(function(){
      var mixer = new Mixer({ context: new webkitAudioContext()});
      var node1 = new BufferedNode({
        location: 'songs/breakyaneck.mp3',
        mixer: mixer
      });    
      mixer.setTrack(node1);
      var mixerView = new MixerView({ el: $('#mixer'), model: mixer });
      mixerView.controllerIndex = 0;
      mixerView.render();
    })
  </script>


</body>
</html>